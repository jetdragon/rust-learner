# fix-navigation-repeat: 修复方向键移动跳行问题

## 问题描述

在仪表板和其他列表界面中，使用方向键上下移动时，每次移动会跳两行而不是一行。这导致：
1. 无法选择某些选项（特别是奇数位置的选项）
2. 光标位置与选中项不同步

## 问题分析

### 可能原因

1. **布局约束问题**: 顶部统计区域使用 `Constraint::Length(10)` 固定高度，但进度条绘制在 y+7 位置，可能导致模块列表区域高度不足

2. **渲染重叠**: 进度条 Gauge 和模块列表可能有渲染重叠，导致视觉跳行

3. **事件重复触发**: 主循环中 `terminal.draw()` 和事件处理可能产生重复渲染

## 解决方案

### 1. 调整布局约束

- 将顶部统计区域改为 `Constraint::Length(9)` 或更小
- 移除硬编码的进度条位置，使用相对布局

### 2. 简化仪表板布局

- 移除独立的进度条 Gauge，改为在统计区域显示进度
- 使用简单的文本进度条代替 Gauge widget

### 3. 调整事件处理

- 确保每次按键只处理一次
- 考虑在处理按键后立即重绘，而不是依赖主循环

## 影响范围

- `learning-companion/src/tui.rs`:
  - `draw_dashboard` 函数
  - `run_tui` 主循环
