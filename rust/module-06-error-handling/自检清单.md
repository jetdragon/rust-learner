# 错误处理自检清单

使用此清单检查你对错误处理的掌握情况。

## 基础概念

- [ ] 理解可恢复与不可恢复错误的区别
- [ ] 理解 Result<T, E> 的结构
- [ ] 理解 Option 的用途
- [ ] 知道何时使用 Result vs Option
- [ ] 理解 panic! 的用途和风险

## Result 类型

- [ ] 掌握 match 处理 Result
- [ ] 掌握 unwrap() 和 expect() 的使用
- [ ] 理解 unwrap() 的风险
- [ ] 掌握 unwrap_or() 提供默认值
- [ ] 掌握 unwrap_or_else() 懒惰计算默认值

## Option 类型

- [ ] 掌握 match 处理 Option
- [ ] 掌握 unwrap() 和 expect() 的使用
- [ ] 掌握 unwrap_or() 提供默认值
- [ ] 掌握 map() 转换值
- [ ] 掌握 and_then() 链接操作

## 错误传播

- [ ] 掌握使用 match 传播错误
- [ ] 掌握使用 ? 操作符传播错误
- [ ] 理解 ? 操作符的限制
- [ ] 掌握在函数签名中声明错误类型
- [ ] 理解 From trait 和错误转换

## 自定义错误

- [ ] 能够定义枚举错误类型
- [ ] 能够实现 Display trait
- [ ] 能够实现 Error trait
- [ ] 理解错误源 (source) 的概念
- [ ] 掌握使用 #[from] 自动实现 From

## thiserror 和 anyhow

- [ ] 了解 thiserror 的用途
- [ ] 能够使用 thiserror 定义错误
- [ ] 了解 anyhow 的用途
- [ ] 能够使用 anyhow::Context 添加上下文
- [ ] 理解何时使用 thiserror vs anyhow

## 错误处理模式

- [ ] 掌握 map_err() 转换错误
- [ ] 掌握 map() 转换成功值
- [ ] 掌握 and_then() 链接 Result
- [ ] 掌握 or_else() 提供备用方案
- [ ] 掌握 combinators 处理多个 Result

## panic! 和不可恢复错误

- [ ] 理解何时使用 panic!
- [ ] 理解 unwrap/expect 何时会 panic
- [ ] 了解 assert! 和 assert_eq!
- [ ] 了解 unreachable!() 和 unimplemented!()
- [ ] 理解 panic 的后果

## 错误最佳实践

- [ ] 优先使用 Result 而不是 panic
- [ ] 只在真正无法恢复时 panic
- [ ] 提供清晰的错误消息
- [ ] 包含足够的错误上下文
- [ ] 让调用者决定如何处理错误

## 库开发

- [ ] 为公共 API 定义清晰的错误类型
- [ ] 实现 Error trait
- [ ] 实现 From 标准错误
- [ ] 文档化可能的错误情况
- [ ] 提供有意义的错误消息

## 应用开发

- [ ] 考虑使用 anyhow 简化错误处理
- [ ] 在边界处转换错误
- [ ] 使用 Context 添加上下文
- [ ] 记录错误信息
- [ ] 提供用户友好的错误消息

## 实际应用

- [ ] 在实际代码中使用 Result 处理错误
- [ ] 使用 ? 传播错误
- [ ] 创建自定义错误类型
- [ ] 提供清晰的错误消息
- [ ] 处理文件 IO 错误
- [ ] 处理解析错误
- [ ] 处理网络错误

## 常见陷阱

- [ ] 避免 unwrap() 生产代码
- [ ] 避免忽略错误 (let _ = ...)
- [ ] 避免过多的错误类型转换
- [ ] 避免吞掉错误
- [ ] 避免返回 Result 的 Result

## 练习完成情况

- [ ] 完成所有基础练习题
- [ ] 完成中等难度练习题
- [ ] 完成高级练习题
- [ ] 完成综合练习项目
- [ ] 通过所有测试用例

## 自我测试

尝试回答以下问题：

1. Result 和 Option 有什么区别？
2. 什么时候应该使用 panic!？
3. ? 操作符是如何工作的？
4. 如何定义一个自定义错误类型？
5. thiserror 和 anyhow 各适用于什么场景？
6. 如何提供更好的错误消息？
7. 如何处理多种错误类型？
8. 什么时候使用 unwrap_or vs unwrap_or_else？

## 代码能力检查

不看资料，能否完成以下任务：

- [ ] 写一个返回 Result 的函数
- [ ] 使用 ? 传播错误
- [ ] 定义并使用自定义错误类型
- [ ] 使用 thiserror 定义错误
- [ ] 使用 anyhow 处理错误
- [ ] 提供清晰的错误上下文
- [ ] 处理文件 IO 错误
- [ ] 正确处理解析错误

## 下一步学习

完成本模块后，继续学习：

- [ ] [module-06-collections](../module-06-collections/) - 集合类型
- [ ] [module-07-traits-generics](../module-07-traits-generics/) - Trait 与泛型
- [ ] [module-08-lifetimes](../module-08-lifetimes/) - 生命周期

## 掌握程度自评

- **初学者**: 需要频繁查阅资料，能完成基本错误处理
- **中级**: 偶尔查阅资料，能独立处理常见错误
- **熟练**: 很少查阅资料，能设计良好的错误处理策略
- **专家**: 能指导他人，理解错误处理的设计权衡

你的掌握程度: ___________
